# LLM批量翻译工具

基于Python + PyQt + LLM的批量/单文件翻译工具，支持多种语言对翻译，智能分块处理，可配置提示词模板。

## 功能特性

- 🌍 **多语言支持**: 支持中文、英文、日文、韩文、法文、德文、西班牙文等多种语言互译
- 📁 **批量处理**: 支持单文件或整个文件夹的批量翻译，可递归处理子文件夹
- 🧩 **智能分块**: 自动将大文件分块处理，避免超出LLM token限制
- 🎨 **可视化界面**: 基于PyQt5的友好用户界面，分选项卡管理不同功能
- 📝 **提示词管理**: 内置多种翻译场景的提示词模板，支持自定义
- 🔧 **灵活配置**: 支持输出路径设置、目录结构保留等多种配置选项
- 📊 **实时监控**: 翻译进度实时显示，详细的日志输出

## 项目结构

```
app/
├─ ui/                    # PyQt界面文件
│  ├─ main_window.py      # 主窗口
│  └─ __init__.py
├─ core/                  # 业务逻辑
│  ├─ file_manager.py     # 文件管理
│  ├─ chunker.py          # 文本分块
│  ├─ translator.py       # 翻译流程
│  ├─ prompt_manager.py   # 提示词管理
│  └─ __init__.py
├─ llm/                   # LLM适配层
│  ├─ client_base.py      # 基类
│  ├─ openai_client.py    # OpenAI客户端
│  └─ __init__.py
├─ config/                # 配置文件
│  └─ default_config.yaml
├─ app.py                 # 程序入口
├─ requirements.txt       # 依赖包
└─ README.md
```

## 安装和使用

### 1. 环境要求

- Python 3.7+
- PyQt5
- OpenAI API Key

### 2. 安装依赖

```bash
pip install -r requirements.txt
```

### 3. 运行程序

```bash
python app.py
```

### 4. 使用步骤

1. **语言设置**: 选择源语言和目标语言
2. **文件选择**: 选择要翻译的单个文件或文件夹
3. **翻译设置**: 
   - 设置输出路径
   - 配置分块参数
   - 输入OpenAI API Key
   - 选择或编辑提示词模板
4. **开始翻译**: 点击"开始翻译"按钮，查看实时进度和日志

## 支持的文件格式

- `.txt` - 纯文本文件
- `.md` - Markdown文件
- `.rst` - reStructuredText文件
- `.py` - Python源码文件
- `.js` - JavaScript文件
- `.html` - HTML文件
- `.xml` - XML文件
- `.json` - JSON文件

## 配置说明

### API Key设置

在"翻译设置"选项卡中输入您的OpenAI API Key。

### 分块参数

- **最大Token数**: 每个文本块的最大token数量，建议1000-2000
- **最大字符数**: 每个文本块的最大字符数，建议2000-4000

### 提示词模板

内置4种翻译场景模板：
- **通用翻译**: 适用于一般文本翻译
- **技术文档翻译**: 适用于技术文档，保持格式和术语准确性
- **文学翻译**: 注重文学风格和语调
- **商务翻译**: 使用正式商务语言

## 注意事项

1. **API费用**: 使用OpenAI API会产生费用，请注意控制使用量
2. **文件备份**: 建议在翻译前备份重要文件
3. **网络连接**: 需要稳定的网络连接访问OpenAI API
4. **隐私保护**: 文本会发送到OpenAI服务器，请注意隐私安全

## 开发计划

- [ ] 支持更多LLM提供商（Claude、Gemini等）
- [ ] 添加本地LLM支持
- [ ] 翻译质量评估
- [ ] 批量操作的暂停/恢复功能
- [ ] 翻译缓存机制
- [ ] 更多文件格式支持（DOCX、PDF等）

## 许可证

MIT License

## 贡献

欢迎提交Issue和Pull Request来改进这个项目！